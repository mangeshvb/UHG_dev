<apex:page controller="ACETViewBillingController">
    <apex:includeScript value="{!$Resource.JQuery}"></apex:includeScript>
    <apex:stylesheet value="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
    <apex:includeScript value="https://code.jquery.com/ui/1.12.1/jquery-ui.js" />
    <apex:includeScript value="/soap/ajax/30.0/connection.js" />
    <apex:includeScript value="/support/console/30.0/integration.js" />
    <apex:includeScript value="{!URLFOR($Resource.ACETResources, '/js/main.js')}" />
    <apex:includeScript value="{!$Resource.JqueryDynamicCallTypesValidation}" />
    <script src="/soap/ajax/20.0/connection.js" type="text/javascript"></script>
    
    <script>

        $(document).ready(function() {
            acet.autodoc.startAutodoc(); 
            addRequiredFieldIndicator("[id$='pbTableId']");
            systemUnavailableListener("[id$='sysUnavailableChkb']");
            checkCallTypeOther(".autodoc input[type=checkbox]");
            checkCallTypeResolved(".autodoc-case-item-resolved input[type=checkbox]");
        });   
        
        function openTableauWindow(tableau_Link) {
            window.open(tableau_Link, 'Tableauwindow', 'toolbars=0,width=1200,height=800,left=0,top=0,scrollbars=1,resizable=1');
        } 
            
        function openBRMSWindow(BRMS_Link){
            window.open(BRMS_Link, 'BRMSwindow', 'toolbars=0,width=700,height=400,left=0,top=0,scrollbars=1,resizable=1');        
        }
    </script>
    
    <apex:form id="BillingInfo">
        <apex:outputPanel id="hlPanel" layout="none">
            <apex:inputHidden id="highlightPanelInfo" />
            <c:ACETInteractionHighlightsPanel InteractionAtt="{!Interaction}" SubjectAtt="{!Subject}" AdditionalInfoAtt="{!AdditionalInfo}" html-auto-doc="auto"/>
        </apex:outputPanel>

        <apex:sectionHeader title="Billing" />
        
        <c:ACETCaseActions attrCaseDataWrapper="{!wrapper}" attrShowSaveButton="true" attrShowMisdirectButton="true" 
            attrSourceOriginator="{!wrapper.SourceOriginator}" attrInteractionId="{!wrapper.Interaction.Id}" attrSubjectId="{!wrapper.Subject.Id}"
            attrCallTopic="{!wrapper.caseobj.Topic__c}"/>
            
        <apex:pageblock mode="detail">
            <apex:pageBlockButtons location="top">
                <input type="button" id="launchBRMSBtn" align ="center"  style = "margin-left:43px" value="Launch BRMS" onclick="openBRMSWindow('{!swivelBRMS_URL}');"/>
                <input type="button" id="launchTableaBtn" align ="center"  style = "margin-left:43px" value="Launch Tableau" onclick="openTableauWindow('{!tableau_URL}');"/>
            </apex:pageBlockButtons>
            <!-- Below Component added by Divya - US -->
            <c:ACETDynamicCallTypesDisplay attrCaseDataWrapper="{!wrapper}" 
                                           attrCallTopic="{!wrapper.caseobj.Topic__c}"
                                           attrShowCheckBoxCallTypes="true"
                                           attrShowPickListcallTypes="false"
                                           attrshowAccountType="false"/>
                                                   
            <apex:pageBlockSection columns="1" html-auto-doc="auto">
                <apex:pageBlockSectionItem html-auto-doc-item="false">    
                   <apex:outputLabel value="Comments"></apex:outputLabel>
                   <apex:inputTextArea id="comments" cols="100" rows="5" value="{!wrapper.Comments}"  html-maxlength="3999"/>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                        <apex:outputLabel value="System Unavailable"></apex:outputLabel>
                        <apex:inputCheckbox id="sysUnavailableChkb" style="margin-left:10px;" value="{!wrapper.isSystemUnavailable }" />                                            
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
        </apex:pageblock>
        
        <c:ACETCaseActions attrCaseDataWrapper="{!wrapper}" attrShowSaveButton="true" attrShowMisdirectButton="true" 
            attrSourceOriginator="{!wrapper.SourceOriginator}" attrInteractionId="{!wrapper.Interaction.Id}" attrSubjectId="{!wrapper.Subject.Id}"
            attrCallTopic="{!wrapper.caseobj.Topic__c}" attrLocation="bottom"/>

    </apex:form>

</apex:page>