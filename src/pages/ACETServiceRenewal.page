<apex:page controller="ACETServiceRenewalController" sidebar="false">
    <apex:includeScript value="{!$Resource.JQuery}" />
    <apex:includeScript value="/support/console/30.0/integration.js" />
    <apex:includeScript value="{!URLFOR($Resource.ACETResources, '/js/main.js')}" />
    <apex:includeScript value="{!$Resource.JqueryDynamicCallTypesValidation}" />
    <style>
.systemUnavailable {
    margin-left: 10px;
}
</style>

    <apex:form rendered="{!IF($CurrentPage.parameters.callTopic!=null,true,false)}">
        <apex:outputPanel id="hlPanel" layout="none">
                <apex:inputHidden id="highlightPanelInfo" />
                <c:ACETInteractionHighlightsPanel InteractionAtt="{!Interaction}" SubjectAtt="{!Subject}" AdditionalInfoAtt="{!AdditionalInfo}" html-auto-doc="auto"/>
        </apex:outputPanel>
        <!--<c:ACETInteractionHighlightsPanel InteractionAtt="{!wrapper.interaction}" SubjectAtt="{!wrapper.Subject}" 
        AdditionalInfoAtt="{!wrapper.AdditionalInfo}" html-auto-doc="auto"></c:ACETInteractionHighlightsPanel> -->
        <apex:sectionHeader title="{!IF(bServiceRenewal==true,'Renewals','New Business')}" />
        <apex:pageMessages />
        <c:ACETCaseActions attrCaseDataWrapper="{!wrapper}" attrShowSaveButton="true" attrShowMisdirectButton="true" 
            attrSourceOriginator="{!wrapper.SourceOriginator}" attrInteractionId="{!wrapper.Interaction.Id}" attrSubjectId="{!wrapper.Subject.Id}" attrCallTopic="{!IF(bServiceRenewal==true,'Service Renewal','New Business')}" />
        <apex:pageBlock >
            <apex:pageblockSection columns="1" id="launchCirrusPanel">
                <apex:pageBlockSectionItem >
                    <input type="button" id="launchCirrusBtn" style="margin-left: 44%;"
                        value="Launch IDEA"
                        onclick="openIdeaWindow('{!$Label.IDEA_URL}');" />
                </apex:pageBlockSectionItem>
            </apex:pageblockSection>
      <!-- Commented the below code by Krishna for US563859. To get the Call Types dynamically -->       
               <!-- <apex:pageBlockSectionItem id="serviceRenewal"
                    rendered="{!bServiceRenewal}">
                    <apex:outputLabel value="Call Type"></apex:outputLabel>
                    <apex:selectCheckboxes layout="pageDirection" id="serviceRenewal"
                        value="{!wrapper.Topic}">
                        <apex:selectOptions value="{!ServiceRenewalCallTypes}"
                            id="serviceRenewalOptions"
                            html-select-identifier="service_renewal_options" />
                    </apex:selectCheckboxes>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem rendered="{!NOT(bServiceRenewal)}">
                    <apex:outputLabel value="Call Type"></apex:outputLabel>
                    <apex:selectCheckboxes layout="pageDirection" id="CreateProposals"
                        value="{!wrapper.Topic}">
                        <apex:selectOptions value="{!CreateProposalCallTypes}"></apex:selectOptions>
                    </apex:selectCheckboxes>
                </apex:pageBlockSectionItem> -->
                
                <c:ACETDynamicCallTypesDisplay attrCaseDataWrapper="{!wrapper}" 
                                               attrCallTopic="{!wrapper.caseobj.Topic__c}"
                                               attrShowCheckBoxCallTypes="true"/>
            
                <apex:pageBlockSection columns="1" html-auto-doc="auto">        
                    <apex:pageBlockSectionItem id="comments" html-auto-doc-item="false">
                        <apex:outputLabel value="Comments"></apex:outputLabel>
                        <apex:inputTextArea id="comments" cols="100" rows="5"
                            value="{!wrapper.Comments}"/>
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel value="System Unavailable"></apex:outputLabel>
                        <apex:inputCheckbox id="sysUnavailableChkb"
                            style="margin-left:10px;" value="{!wrapper.isSystemUnavailable }" />
                    </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
        </apex:pageBlock>
        <c:ACETCaseActions attrCaseDataWrapper="{!wrapper}" attrShowSaveButton="true"
            attrShowMisdirectButton="true" 
            attrSourceOriginator="{!wrapper.SourceOriginator}"
            attrRedirectToPage="ACETOriginatingPageServiceRenewal"
            attrInteractionId="{!wrapper.Interaction.Id}"
            attrSubjectId="{!wrapper.Subject.Id}"
            attrCallTopic="{!IF(bServiceRenewal==true,'Service Renewal','New Business')}" 
            attrLocation="bottom"/>
    </apex:form>
   <script>       
        $(document).ready(function() {
            acet.autodoc.startAutodoc(); 
            addRequiredFieldIndicator("[id$='pbTableId']");
            systemUnavailableListener("[id$='sysUnavailableChkb']");
            checkCallTypeOther(".autodoc input[type=checkbox]");
            checkCallTypeResolved(".autodoc-case-item-resolved input[type=checkbox]");
        });        
        function openIdeaWindow(IDEA_Link) {
            window.open(IDEA_Link, 'BRMSwindow', 'toolbars=0,width=1200,height=800,left=0,top=0,scrollbars=1,resizable=1');
        }
    </script>
    <style>
table[role="presentation"] {
    background: #FFF;
    padding: 0 10px;
    width: 30%;
}
</style>
</apex:page>